<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>COINjecture Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .connected { background: #4CAF50; color: white; }
        .error { background: #f44336; color: white; }
        .offline { background: #ff9800; color: white; }
    </style>
</head>
<body>
    <h1>COINjecture Test Page</h1>
    <div id="status" class="status">ğŸŒ Testing connection...</div>
    <div id="output"></div>
    
    <script>
        const apiBase = 'https://api.coinjecture.com';
        const status = document.getElementById('status');
        const output = document.getElementById('output');
        
        async function testConnection() {
            try {
                console.log('Testing API connection...');
                const response = await fetch(`${apiBase}/v1/data/block/latest`);
                const data = await response.json();
                
                if (data.status === 'success') {
                    status.innerHTML = `ğŸŒ Live Network: Block #${data.data.index}`;
                    status.className = 'status connected';
                    output.innerHTML = `âœ… API working: ${JSON.stringify(data.data, null, 2)}`;
                } else {
                    status.innerHTML = 'ğŸŒ Network: Offline';
                    status.className = 'status offline';
                    output.innerHTML = `âŒ API error: ${JSON.stringify(data, null, 2)}`;
                }
            } catch (error) {
                console.error('API Error:', error);
                status.innerHTML = 'ğŸ”’ Connection Error';
                status.className = 'status error';
                output.innerHTML = `âŒ Connection failed: ${error.message}`;
            }
        }
        
        // Test connection on load
        testConnection();
        
        // Test every 10 seconds
        setInterval(testConnection, 10000);
    </script>
</body>
</html>
